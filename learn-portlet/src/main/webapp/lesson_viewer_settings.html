
<div id="lessonViewerSettingsAppRegion"></div>
<input type="hidden" id="SCORMContextPath" value="{{contextPath}}"/>

<script type="text/javascript">

    jQueryValamis(function () {

        if (!valamisApp.started) {
            valamisApp.start();
        }

        /**
         * Mobile IE10 hack
         */
        if ("-ms-user-select" in document.documentElement.style && navigator.userAgent.match(/IEMobile\/10\.0/)) {
            var msViewportStyle = document.createElement("style");
            msViewportStyle.appendChild(
                    document.createTextNode("@-ms-viewport{width:auto!important}")
            );
            document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
        }
        /** Mobile IE10 hack */

        var lessonViewerSettingsOptions = {
            resourceName: 'lessonViewer',
            permissions: {},
            app: lessonViewerSettings,
            appOptions: {
                playerId: '{{playerId}}',
                defaultLessonId: '{{defaultLessonId}}'
            }
        };

        valamisApp.execute('subapp:start', lessonViewerSettingsOptions);

    });

</script>