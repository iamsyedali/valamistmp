
<div class="val-portlet" id="questionBankBody">
    <div id="contentManagerAppRegion"></div>

    <input type="hidden" id="SCORMContextPath" value="{{contextPath}}"/>
</div>

<script type="text/javascript">

    CKEDITOR_BASEPATH = "{{contextPath}}/js/vendor/ckeditor/";

    jQueryValamis(function () {

        if (!valamisApp.started) {
            valamisApp.start();
        }

        /**
         * Mobile IE10 hack
         */
        if ("-ms-user-select" in document.documentElement.style && navigator.userAgent.match(/IEMobile\/10\.0/)) {
            var msViewportStyle = document.createElement("style");
            msViewportStyle.appendChild(
                    document.createTextNode("@-ms-viewport{width:auto!important}")
            );
            document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
        }
        /** Mobile IE10 hack */

        var contentManagerPermissions = {
            'ContentManager': {
                'MODIFY' : eval('{{permissionToModify}}')
            }
        };

        var showGlobalBase = ('{{showGlobalBase}}' == 'true');

        var contentManagerOptions = {
            resourceName: ['questionManager', 'common'],
            permissions: contentManagerPermissions,
            app: contentManager,
            appOptions: {showGlobalBase: showGlobalBase}
        };

        valamisApp.execute('subapp:start', contentManagerOptions);

    });
</script>
