<div id="certificateExpirationTrackerAppRegion"></div>

<input type="hidden" id="SCORMContextPath" value="{{contextPath}}"/>

<script type="text/javascript">

    var Valamis = Valamis || {};

    jQueryValamis(document).ready(function () {

        if (!valamisApp.started) { valamisApp.start(); }

        var certificateExpirationTrackerOptions = {
            resourceName: 'certificateExpirationTracker',
            permissions: {},
            app: certificateExpirationTracker,
            appOptions: {
                trackerScope: '{{trackerScope}}',
                availableScopes: {
                    currentCourse: 'currentCourse',
                    instantScope: 'instantScope'
                }
            }
        };

        valamisApp.execute('subapp:start', certificateExpirationTrackerOptions);

        jQueryValamis(this).click(function(event) {
            if(jQueryValamis(event.target).closest('.js-dropdown-selector').length == 0) {
                var dropdownWrapper = jQueryValamis('.js-dropdown-selector .dropdown-wrapper');
                if (!dropdownWrapper.hasClass('hidden')) {
                    dropdownWrapper.addClass('hidden');
                }
            }
        });
    });
</script>
